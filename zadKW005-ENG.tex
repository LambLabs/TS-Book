\begin{task}
\TT{Oblicz moc sygnału okresowego $f(t)$ przedstawionego na rysunku: }{Calculate the average power for the periodic signal $f(t)$ given below:}

\begin{figure}[H]
\centering
\begin{tikzpicture}
  %\draw (0,0) circle (1in);
  \draw[->] (-3.0,+0.0) -- (+5.0,+0.0) node[right] {$t$};
  \draw[->] (+0.0,-1.5) -- (+0.0,+2.0) node[above] {$f(t)$};
  \draw[-,red, thick] (-1.5,0.75) -- (-1.0,1.5)--(-1.0,0.0) -- (0.0,-1.0) -- (0.0,+0.0) -- (+1.0,+1.5) -- (+1.0,+0.0) -- (+2.0,-1.0) -- (+2.0,+0.0) -- (2.5,0.75);
  \draw[-,red, dashed] (-1.5,1.5) -- (2.5,1.5);
  \draw[-,red, dashed] (-1.5,-1.0) -- (2.5,-1.0);
  %\draw[-] (-1.0-0.1,-0.1)--(-1.0+0.1,0.1) node[midway, below, outer sep=10pt,align=center] {$-\frac{T}{2}$};
  \draw[-] (-1.0-0.1,-0.1)--(-1.0+0.1,0.1) node[midway, below, outer sep=5pt] {$-(1-a)\cdot T$};
  \draw[-] (+1.0-0.1,-0.1)--(+1.0+0.1,0.1) node[midway, below, outer sep=5pt] {$a\cdot T$};
  \draw[-] (+2.0-0.1,-0.1)--(+2.0+0.1,0.1) node[midway, below, outer sep=5pt] {$T$};
  \draw[-] (-0.1,+1.5-0.1)--(+0.1,+1.5+0.1) node[midway, left] {$A$};
  \draw[-] (-0.1,-1.0-0.1)--(+0.1,-1.0+0.1) node[midway, left] {$B$};

\end{tikzpicture}
\end{figure}

\TT{W pierwszej kolejności należy ustalić wzór funkcji przedstawionej na rysunku. Jest to funkcja przedziałowa. W pierwszym okresie możemy ją opisać za pomocą dwóch prostych. Ogólne równanie prostej to:}{First of all, the definition of $f(t)$ signal has to be derived. This is periodic piecewise function, piecewise linear function to be precise. The simplest form of linear function is:}

\begin{equation}
f(t) = m \cdot t + b
\end{equation} 

\TT{W pierwszym okresie, w pierwszej części, wykres funkcji jest prostą przechodzącą przez dwa punkty: $(0,0)$ oraz $(a\cdot T,A)$. Możemy więc napisać układ równań, rozwiązać go i znaleźć nieznane parametry $m$ i $b$: }{In the first interval of the first period (i.e. $t \in (0; a\cdot T)$), linear function crosses two points: $(0,0)$ and $(a\cdot T,A)$. So, in order to derive $m$ and $b$, the following system of the equations has to be solved:} 

\begin{align*}
&\left\{\begin{matrix*}[l]
0 = m\cdot 0 +b\\ 
A = m\cdot a \cdot T +b
\end{matrix*}\right. \\
&\left\{\begin{matrix*}[l]
0 = b\\ 
A = m \cdot a\cdot T +b
\end{matrix*}\right. \\
&\left\{\begin{matrix*}[l]
0 = b\\ 
A = m \cdot a\cdot T +0
\end{matrix*}\right. \\
&\left\{\begin{matrix*}[l]
0 = b\\ 
\frac{A}{a\cdot T} = m
\end{matrix*}\right.
\end{align*}

\TT{Podsumowując, pierwszy odcinek funkcji przedstawionej na rysunku, w pierwszym okresie można opisać wzorem:}{As a result we get:}

\begin{align*}
f(t) = \frac{A}{a \cdot T}\cdot t
\end{align*}

\TT{Drugi odcinek funkcji jest prostą przechodzącą przez następujące dwa punkty: $(a \cdot T,0)$ oraz $(T,-B)$. Możemy więc napisać układ równań, rozwiązać go i znaleźć nieznane parametry $m$ i $b$:}{In the second interval of the first period (e.g. $t \in (a \cdot T;T)$), linear function crosses other two points: $(a \cdot T,0)$ and $(T,-B)$. So, in order to derive $m$ and $b$, the following system of the equations has to be solved:}

\begin{align*}
&\left\{\begin{matrix*}[l]
0 = m\cdot a \cdot T +b\\ 
-B = m\cdot T +b
\end{matrix*}\right. \\
&\left\{\begin{matrix*}[l]
-m \cdot a \cdot T = b\\ 
-B = m \cdot T -m \cdot a \cdot T
\end{matrix*}\right. \\
&\left\{\begin{matrix*}[l]
-m \cdot a \cdot T = b\\ 
-B = m \cdot \left( T - a \cdot T\right)
\end{matrix*}\right. \\
&\left\{\begin{matrix*}[l]
-m \cdot a \cdot T = b\\ 
-\frac{B}{T - a \cdot T} = m
\end{matrix*}\right. \\
&\left\{\begin{matrix*}[l]
\frac{B}{T - a \cdot T} \cdot a \cdot T = b\\ 
-\frac{B}{T - a \cdot T} = m
\end{matrix*}\right. \\
&\left\{\begin{matrix*}[l]
\frac{B}{1 - a} \cdot a = b\\ 
-\frac{B}{T - a \cdot T} = m
\end{matrix*}\right.
\end{align*}

\TT{A więc drugi odcinek funkcji przedstawionej na rysunku w pierwszym okresie, można opisać wzorem:}{As a result, second interval of the first period is described by:}

\begin{align*}
f(t) = -\frac{B}{T - a \cdot T}\cdot t + \frac{B}{1 - a} \cdot a
\end{align*}

\TT{W związku z tym, całą funkcję w pierwszym okresie można zapisać jako funkcje przedziałową:}{As a result the piecewise linear function in the first period is given by:}

\begin{align*}
f(t) = \left\{\begin{matrix*}[l]
\frac{A}{a \cdot T}\cdot t & dla &t \in (0; a \cdot T)\\ 
-\frac{B}{T - a \cdot T}\cdot t + \frac{B}{1 - a} \cdot a & dla & t \in (a \cdot T; T)
\end{matrix*}\right.
\end{align*}

\TT{I ogólniej, całą funkcję można wyrazić następującym wzorem:}{For the whole periodic signal $f(t)$ we get:}

\begin{align*}
f(t) = \left\{\begin{matrix*}[l]
\frac{A}{a \cdot T}\cdot \left( t - k\cdot T \right) & dla &t \in (0 + k\cdot T; a \cdot T + k\cdot T)\\ 
-\frac{B}{T - a \cdot T}\cdot \left( t - k\cdot T \right) + \frac{B}{1 - a} \cdot a & dla & t \in (a \cdot T+ k\cdot T; T+ k\cdot T)
\end{matrix*}\right. \wedge k \in \TT{C}{Z}
\end{align*}

\TT{Moc sygnału okresowego wyznaczamy ze wzoru:}{The average power for periodic signals is defined by:}

\begin{equation}
P=\frac{1}{T} \cdot \int_{T}^{}\left|f(t)\right|^2 \cdot dt
\end{equation}

\TT{Podstawiamy do wzoru na moc wzór naszej funkcji:}{In our case we get:}

\begin{align*}
P&=\frac{1}{T} \cdot \int_{T}^{}\left|f(t)\right|^2 \cdot dt=\\
 &=\frac{1}{T} \cdot \left( \int_{0}^{a \cdot T}\left|\frac{A}{a \cdot T}\cdot t \right|^2 \cdot dt
  +\int_{a \cdot T}^{T}\left|\frac{B}{T - a \cdot T}\cdot t - \frac{B}{1 - a} \cdot a\right|^2 \cdot dt \right)=\\ 
 &=\frac{1}{T} \cdot \int_{0}^{a \cdot T}\left(\frac{A}{a \cdot T}\cdot t \right)^2 \cdot dt
  +\frac{1}{T} \cdot \int_{a \cdot T}^{T}\left(\frac{B}{T - a \cdot T}\cdot t - \frac{B}{1 - a} \cdot a\right)^2 \cdot dt=\\ 
 &=\frac{1}{T} \cdot \int_{0}^{a \cdot T}\frac{A^2}{a^2 \cdot T^2}\cdot t^2 \cdot dt
 +\frac{1}{T} \cdot \int_{a \cdot T}^{T}\left(\left(\frac{B}{T - a \cdot T}\cdot t\right)^2 - 2\cdot \frac{B}{T - a \cdot T}\cdot t \cdot  \frac{B}{1 - a} \cdot a + \left( \frac{B}{1 - a} \cdot a\right)^2 \right) \cdot dt=\\
 &=\frac{A^2}{a^2 \cdot T^3}\cdot \int_{0}^{a \cdot T} t^2 \cdot dt
 +\frac{1}{T} \cdot \int_{a \cdot T}^{T}\left(\frac{B^2}{T^2 \cdot \left(1 - a \right)^2}\cdot t^2 - 2\cdot \frac{B^2}{T\cdot \left(1 - a\right)^2}\cdot t \cdot a + \frac{B^2}{\left(1 - a \right)^2} \cdot a^2 \right) \cdot dt=\\
 &=\frac{A^2}{a^2 \cdot T^3}\cdot \left(\left. \frac{1}{3}\cdot t^3 \right|_{0}^{a \cdot T} \right)
 +\frac{1}{T} \cdot \int_{a \cdot T}^{T} \frac{B^2}{T^2 \cdot \left(1 - a \right)^2}\cdot t^2 \cdot dt +\\
 &- \frac{1}{T} \cdot \int_{a \cdot T}^{T} 2\cdot \frac{B^2}{T\cdot \left(1 - a\right)^2}\cdot t \cdot a \cdot dt + \frac{1}{T} \cdot \int_{a \cdot T}^{T} \frac{B^2}{\left(1 - a \right)^2} \cdot a^2 \cdot dt=\\ 
 &=\frac{A^2}{a^2 \cdot T^3}\cdot \left(\left. \frac{1}{3}\cdot t^3 \right|_{0}^{a \cdot T} \right)
 +\frac{B^2}{T^3 \cdot \left(1 - a \right)^2}\cdot \int_{a \cdot T}^{T}  t^2 \cdot dt +\\
 &- \frac{2\cdot B^2}{T^2 \cdot \left(1 - a\right)^2}\cdot a \cdot \int_{a \cdot T}^{T} t \cdot dt 
 + \frac{B^2}{T \cdot \left(1 - a \right)^2} \cdot a^2 \cdot \int_{a \cdot T}^{T} dt=\\
 &=\frac{A^2}{a^2 \cdot T^3}\cdot \left(\frac{1}{3}\cdot \left(a \cdot T\right)^3 - \frac{1}{3}\cdot 0^3 \right)
 +\frac{B^2}{T^3 \cdot \left(1 - a \right)^2}\cdot \left( \left. \frac{1}{3} \cdot t^3 \right|_{a \cdot T}^{T} \right) +\\
 &- \frac{2\cdot B^2}{T^2 \cdot \left(1 - a\right)^2}\cdot a \cdot \left( \left. \frac{1}{2} \cdot t^2 \right|_{a \cdot T}^{T} \right)
 + \frac{B^2}{T \cdot \left(1 - a \right)^2} \cdot a^2 \cdot \left( \left. t \right|_{a \cdot T}^{T} \right)=\\
 &=\frac{A^2}{a^2 \cdot T^3}\cdot \left(\frac{1}{3}\cdot a^3 \cdot T^3 - 0 \right)
 +\frac{B^2}{T^3 \cdot \left(1 - a \right)^2}\cdot \left( \frac{1}{3} \cdot T^3 -\frac{1}{3} \cdot \left( a\cdot T \right)^3 \right) +\\
 &- \frac{2\cdot B^2}{T^2\cdot \left(1 - a\right)^2}\cdot a \cdot \left( \frac{1}{2} \cdot T^2 -  \frac{1}{2} \cdot \left(a \cdot T\right)^2 \right)
 + \frac{B^2}{T \cdot \left(1 - a \right)^2} \cdot a^2 \cdot \left( T - a \cdot T \right)=\\
 &=\frac{A^2}{a^2 \cdot T^3}\cdot \frac{1}{3}\cdot a^3 \cdot T^3
 +\frac{B^2}{T^3 \cdot \left(1 - a \right)^2}\cdot \left( \frac{1}{3} \cdot T^3 -\frac{1}{3} \cdot a^3 \cdot T ^3 \right) +\\
 &- \frac{2\cdot B^2}{T^2 \cdot \left(1 - a\right)^2}\cdot a \cdot \left( \frac{1}{2} \cdot T^2 -  \frac{1}{2} \cdot a^2 \cdot T^2 \right)
 + \frac{B^2}{T \cdot \left(1 - a \right)^2} \cdot a^2 \cdot \left( 1 - a\right) \cdot T=\\
 &=\frac{A^2}{3}\cdot a
 +\frac{B^2}{T^3 \cdot \left(1 - a \right)^2}\cdot \left(1 -a^3 \right)\cdot \frac{1}{3} \cdot T^3 +\\
 &- \frac{2\cdot B^2}{T^2\cdot \left(1 - a\right)^2}\cdot a \cdot \left( 1 -   a^2 \right) \cdot \frac{1}{2} \cdot T^2
 + \frac{B^2}{T \cdot \left(1 - a \right)^2} \cdot a^2 \cdot \left( 1 - a\right) \cdot T=\\ 
 &=\frac{A^2}{3}\cdot a
 +\frac{B^2}{\left(1 - a\right)^2}\cdot \left(1-a\right)\cdot \left(1 +a + a^2 \right)\cdot \frac{1}{3}+\\
 &- \frac{2\cdot B^2}{\left(1 - a\right)^2}\cdot a \cdot \left( 1 - a \right) \cdot \left( 1 + a \right) \cdot \frac{1}{2}
 + \frac{B^2}{1 - a} \cdot a^2=\\
 &=\frac{A^2}{3}\cdot a
 +\frac{B^2}{1 - a}\cdot \left(1 +a + a^2 \right)\cdot \frac{1}{3}
 - \frac{2\cdot B^2}{1 - a}\cdot a \cdot \left( 1 + a \right) \cdot \frac{1}{2}
 + \frac{B^2}{1 - a} \cdot a^2=\\
 &=\frac{A^2}{3}\cdot a
 +\frac{B^2}{1 - a} \cdot \left( \left(1 +a + a^2 \right)\cdot \frac{1}{3}
 - 2 \cdot a \cdot \left( 1 + a \right) \cdot \frac{1}{2}
 + a^2 \right)=\\
 &=\frac{A^2}{3}\cdot a
 +\frac{B^2}{1 - a} \cdot \left( \left(1 +a + a^2 \right)\cdot \frac{2}{6} - 2 \cdot a \cdot \left( 1 + a \right) \cdot \frac{3}{6}
 + a^2 \cdot \frac{6}{6} \right)=\\ 
 &=\frac{A^2}{3}\cdot a +\frac{B^2}{1 - a} \cdot \frac{1}{6} \cdot \left( \left(1 +a + a^2 \right)\cdot 2
 - 2\cdot a \cdot \left( 1 + a \right) \cdot 3
 + a^2 \cdot 6 \right)=\\  
 &=\frac{A^2}{3}\cdot a
 +\frac{B^2}{1 - a} \cdot \frac{1}{6} \cdot \left( 2 +2\cdot a + 2\cdot a^2 - 6\cdot a - 6\cdot a^2 + 6 \cdot a^2 \right)=\\
 &=\frac{A^2}{3}\cdot a
 +\frac{B^2}{1 - a} \cdot \frac{1}{6} \cdot \left( 2 - 4 \cdot a + 2\cdot a^2 \right)=\\
 &=\frac{A^2}{3}\cdot a +\frac{B^2}{1 - a} \cdot \frac{1}{3} \cdot \left( 1 - 2 \cdot a + a^2 \right)=\\
 &=\frac{A^2}{3}\cdot a +\frac{B^2}{1 - a} \cdot \frac{1}{3} \cdot \left( 1 - a \right)^2=\\
 &=\frac{A^2}{3}\cdot a + \frac{B^2}{3} \cdot \left( 1 - a \right)
\end{align*}

\TT{Moc sygnału równa się $\frac{A^2}{3}\cdot a + \frac{B^2}{3} \cdot \left( 1 - a \right)$.}{The average power equals to $\frac{A^2}{3}\cdot a + \frac{B^2}{3} \cdot \left( 1 - a \right)$.}

\end{task}