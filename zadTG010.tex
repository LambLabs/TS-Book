\begin{task}

Oblicz, jaka część energi sygnału $f(t)=Sa^2\left(\omega_0 \cdot t\right) \cdot cos\left(\omega_0 \cdot t\right)$ przypada na wartości pulsacji 
$\left| \omega \right| < \omega_0$. Wykorzystaj informację, że transformata sygnału $\Lambda(t)$ jest równa $Sa^2\left(\frac{\omega}{2}\right)$.

\begin{equation}
f(t) = Sa^2\left(\omega_0 \cdot t\right) \cdot cos\left(\omega_0 \cdot t\right)
\end{equation}

\begin{equation}
\Lambda(t) \overset{F}{\rightarrow} Sa^2\left(\frac{\omega}{2}\right)
\end{equation}

\begin{equation}
\frac{E_{\left| \omega \right| < \omega_0}}{E} = ?
\end{equation}

Całkowitą energię sygnału można wyznaczyc z twierdzenia Parsevala:
\begin{equation}
\Parseval{F}
\end{equation}

W tym celu musimy wyznaczyc transformatę sygnału $f(t)$.

W jednym z wcześniejszych zadań obliczyliśmy, że transformata Fouriera sygnału $f(t)=Sa^2\left(\omega_0 \cdot t\right) \cdot cos\left(\omega_0 \cdot t\right)$ jest równa $F(\jmath \omega)=\frac{1}{2 } \cdot \left( \frac{\pi}{ \omega_0 } \cdot \Lambda\left( \frac{\omega - \omega_0}{2\cdot \omega_0}\right) + \frac{\pi}{ \omega_0 } \cdot \Lambda\left( \frac{\omega + \omega_0}{2\cdot \omega_0}\right) \right)$.

Narysujmy widmo amplitudowe sygnału $f(t)$, czyli $\left|F(\jmath \omega)\right|$.

\begin{figure}[H]
	\centering
	\begin{tikzpicture}
	\draw[->] (-4.0,+0.0) -- (+4.0,+0.0) node[right] {$\omega$};
	\draw[->] (+0.0,-1.0) -- (+0.0,+3.0) node[above] {$\left|F(\jmath \omega)\right|$};
	
	\draw[-,red, thick] (-3.0,0.0) -- (-1.0,+2.0) -- (1.0,0.0);
    \draw[-,red, dashed] (-1.0,+0.0) -- (-1.0,+2.0);
	\draw[-,red, thick] (-1.0,+0.0) -- (1.0,+2.0) -- (3.0,0.0);
    \draw[-,red, dashed] (1.0,+0.0) -- (1.0,+2.0);
	
	\draw[-] (-0.1,+2.0-0.1)--(+0.1,+2.0+0.1) node[midway, above left] {$\frac{\pi}{2 \cdot \omega_0}$};
	
	\draw[-] (-3.0-0.1,-0.1)--(-3.0+0.1,0.1) node[midway, below, outer sep=5pt,align=center] {$-3 \cdot \omega_0$};
	\draw[-] (-1.0-0.1,-0.1)--(-1.0+0.1,0.1) node[midway, below, outer sep=5pt,align=center] {$-\omega_0$};
	\draw[-] (1.0-0.1,-0.1)--(1.0+0.1,0.1) node[midway, below, outer sep=5pt,align=center] {$ \omega_0$};
	\draw[-] (3.0-0.1,-0.1)--(3.0+0.1,0.1) node[midway, below, outer sep=5pt,align=center] {$ 3 \cdot \omega_0$};
	
	\end{tikzpicture}  
\end{figure}

\begin{figure}[H]
	\centering
	\begin{tikzpicture}
	\draw[->] (-4.0,+0.0) -- (+4.0,+0.0) node[right] {$\omega$};
	\draw[->] (+0.0,-1.0) -- (+0.0,+3.0) node[above] {$\left|F(\jmath \omega)\right|$};
	
	\draw[-,red, thick] (-3.0,0.0) -- (-1.0,+2.0) -- (1.0,+2.0) -- (3.0,0.0);
	\draw[-,red, dashed] (-1.0,+0.0) -- (-1.0,+2.0);
	\draw[-,red, dashed] (1.0,+0.0) -- (1.0,+2.0);
	
	\draw[-] (-0.1,+2.0-0.1)--(+0.1,+2.0+0.1) node[midway, above left] {$\frac{\pi}{2 \cdot \omega_0}$};
	
	\draw[-] (-3.0-0.1,-0.1)--(-3.0+0.1,0.1) node[midway, below, outer sep=5pt,align=center] {$-3 \cdot \omega_0$};
	\draw[-] (-1.0-0.1,-0.1)--(-1.0+0.1,0.1) node[midway, below, outer sep=5pt,align=center] {$-\omega_0$};
	\draw[-] (1.0-0.1,-0.1)--(1.0+0.1,0.1) node[midway, below, outer sep=5pt,align=center] {$ \omega_0$};
	\draw[-] (3.0-0.1,-0.1)--(3.0+0.1,0.1) node[midway, below, outer sep=5pt,align=center] {$ 3 \cdot \omega_0$};
	
	\end{tikzpicture}  
\end{figure}

\begin{align*}
\left|F(\jmath \omega)\right| &= \begin{cases}
0 & \omega \in \left( -\infty; -3 \cdot \omega_0 \right) \\
\left(\frac{\pi}{4 \cdot \omega_0^2}\right) \cdot \omega + \frac{3 \cdot \pi}{4 \cdot \omega_0} & \omega \in \left( -3 \cdot \omega_0; -\omega_0 \right) \\
\frac{\pi}{2 \cdot \omega_0} & \omega \in \left(-\omega_0; \omega_0 \right) \\
\left(-\frac{\pi}{4 \cdot \omega_0^2}\right) \cdot \omega + \frac{3 \cdot \pi}{4 \cdot \omega_0} & \omega \in \left(\omega_0; 3 \cdot \omega_0 \right)\\
0 & \omega \in \left(3 \cdot \omega_0; \infty \right)\\
\end{cases}\\
\end{align*}

Podstawiając do wzoru na całkowitą energie otrzymujemy:
\begin{align*}
E &= \frac{1}{2\pi} \cdot \int_{-\infty}^{\infty} \left|F(\jmath \omega)\right|^2 \cdot d\omega\\
&= \frac{1}{2\pi} \cdot \left(\int_{-\infty}^{-3 \cdot \omega_0} \left|0\right|^2 \cdot d\omega + \int_{-3 \cdot \omega_0}^{-\omega_0} \left|\left(\frac{\pi}{4 \cdot \omega_0^2}\right) \cdot \omega + \frac{3 \cdot \pi}{4 \cdot \omega_0}\right|^2 \cdot d\omega + \int_{-\omega_0}^{\omega_0} \left|\frac{\pi}{2 \cdot \omega_0}\right|^2 \cdot d\omega + tttttttttttt\right)\\
\end{align*}


%ToDo
%Policzyć całkę z kwadratu widma amplitudowego :)


Energię sygnału dla pewnego zakresu pulsacji, także można wyznaczyc z twierdzenia Parsevala, ale zmieniając granice w całce zgodnie z oczekiwanym zakresem pulsacji, czyli dla pulsacji $\left| \omega \right| < \omega_0$ otrzymamy wzór:
\begin{equation}
 E_{\left| \omega \right| < \omega_0} = \frac{1}{2\pi} \cdot \int_{-\omega_0}^{\omega_0} \left|F(\jmath \omega)\right|^2 \cdot d\omega
\end{equation}

Podstawiając dane dla naszego sygnału otrzymamy:
\begin{align*}
E_{\left| \omega \right| < \omega_0} &= \frac{1}{2\pi} \cdot \int_{-\omega_0}^{\omega_0} \left|F(\jmath \omega)\right|^2 \cdot d\omega\\
&= \frac{1}{2\pi} \cdot \int_{-\omega_0}^{\omega_0} \left|\frac{\pi}{2 \cdot \omega_0}\right|^2 \cdot d\omega\\
&= \frac{1}{2\pi} \cdot \int_{-\omega_0}^{\omega_0} \left(\frac{\pi}{2 \cdot \omega_0}\right)^2 \cdot d\omega\\
&= \frac{1}{2\pi} \cdot \left(\frac{\pi}{2 \cdot \omega_0}\right)^2 \cdot \int_{-\omega_0}^{\omega_0} d\omega\\
&= \frac{1}{2\pi} \cdot \left(\frac{\pi^2}{4 \cdot \omega_0^2}\right) \cdot \left.\omega\right|_{-\omega_0}^{\omega_0}\\
&= \frac{\pi}{8 \cdot \omega_0^2} \cdot (\omega_0 - (-\omega_0))\\
&= \frac{\pi}{8 \cdot \omega_0^2} \cdot (2 \cdot \omega_0)\\
&= \frac{\pi}{4 \cdot \omega_0}\\
\end{align*}



\end{task}

